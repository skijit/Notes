Manually Creating a React Environment
=============================

- instead of using `create-react-app`

## Prereqs
- Node
- VSCode
- Prettier extension
  - go to prefs: make sure `Format on Save` is enabled

## Process
- a started package.json (library versions will want to be checked)

```(json)
{
  "name": "ps-redux",
  "description": "React and Redux Pluralsight course by Cory House",
  "scripts": {
    "start": "webpack-dev-server --config webpack.config.dev.js --port 3000"
  },
  "dependencies": {
    "bootstrap": "4.3.1",
    "immer": "2.1.3",
    "prop-types": "15.7.2",
    "react": "16.8.4",
    "react-dom": "16.8.4",
    "react-redux": "6.0.1",
    "react-router-dom": "5.0.0",
    "react-toastify": "4.5.2",
    "redux": "4.0.1",
    "redux-thunk": "2.3.0",
    "reselect": "4.0.0"
  },
  "devDependencies": {
    "@babel/core": "7.3.4",
    "babel-eslint": "10.0.1",
    "babel-loader": "8.0.5",
    "babel-preset-react-app": "7.0.2",
    "css-loader": "2.1.1",
    "cssnano": "4.1.10",
    "enzyme": "3.9.0",
    "enzyme-adapter-react-16": "1.11.2",
    "eslint": "5.15.2",
    "eslint-loader": "2.1.2",
    "eslint-plugin-import": "2.16.0",
    "eslint-plugin-react": "7.12.4",
    "fetch-mock": "7.3.1",
    "html-webpack-plugin": "3.2.0",
    "http-server": "0.11.1",
    "jest": "24.5.0",
    "json-server": "0.14.2",
    "mini-css-extract-plugin": "0.5.0",
    "node-fetch": "^2.3.0",
    "npm-run-all": "4.1.5",
    "postcss-loader": "3.0.0",
    "react-test-renderer": "16.8.4",
    "react-testing-library": "6.0.0",
    "redux-immutable-state-invariant": "2.1.0",
    "redux-mock-store": "1.5.3",
    "rimraf": "2.6.3",
    "style-loader": "0.23.1",
    "webpack": "4.29.6",
    "webpack-bundle-analyzer": "3.1.0",
    "webpack-cli": "3.3.0",
    "webpack-dev-server": "3.2.1"
  },
  "engines": {
    "node": ">=8"
  },
  "babel": {
    "presets": [
      "babel-preset-react-app"
    ]
  },
  "eslintConfig": {
    "extends": [
      "eslint:recommended",
      "plugin:react/recommended",
      "plugin:import/errors",
      "plugin:import/warnings"
    ],
    "parser": "babel-eslint",
    "parserOptions": {
      "ecmaVersion": 2018,
      "sourceType": "module",
      "ecmaFeatures": {
        "jsx": true
      }
    },
    "env": {
      "browser": true,
      "node": true,
      "es6": true,
      "jest": true
    },
    "rules": {
      "no-debugger": "off",
      "no-console": "off",
      "no-unused-vars": "warn",
      "react/prop-types": "warn"
    },
    "settings": {
      "react": {
        "version": "detect"
      }
    },
    "root": true
  }
}
```

- an example .gitignore file
```
# Logs
logs
*.log

# Runtime data
pids
*.pid
*.seed

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage

# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# node-waf configuration
.lock-wscript

# Compiled binary addons (http://nodejs.org/api/addons.html)
build/Release

# Dependency directory
# https://www.npmjs.org/doc/misc/npm-faq.html#should-i-check-my-node_modules-folder-into-git
node_modules

# Build folder
build

# Webstorm metadata
.idea

# Mac files
.DS_Store

# json-server db
db.json
```

- create a `src/index.html`:

```(html)
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Pluralsight Redux</title>
  </head>

  <body>
    <div id="app"></div>
  </body>
</html>
```

- create a `src/index.js`:

```(javascript)
import React from "react";
import { render } from "react-dom";

function Hi() {
  return <p>Hi.</p>;
}

render(<Hi />, document.getElementById("app"));
```

- `webpack.config.dev.js`

```(javascript)
// we're not using babel, so this uses commonJS modules (instead of ES Modules)
const webpack = require("webpack");
const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");

// this will be important for babel
process.env.NODE_ENV = "development";

module.exports = {
  mode: "development", // disables some prod only features
  target: "web", // instead of "node"
  devtool: "cheap-module-source-map", // this is how you generate sourcemaps
  entry: "./src/index",
  // in dev mode, webpack only outputs to memory, but we need to know this from the html side
  output: {
    path: path.resolve(__dirname, "build"),
    publicPath: "/",
    filename: "bundle.js"
  },
  // use the internal webpack webserver
  devServer: {
    stats: "minimal",
    overlay: true,
    historyApiFallback: true,
    disableHostCheck: true,  //temporary chrome workaround
    headers: { "Access-Control-Allow-Origin": "*" }, //temporary chrome workaround
    https: false //temporary chrome workaround
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: "src/index.html",
      favicon: "src/favicon.ico"
    })
  ],
  module: {
    rules: [
      {
        test: /\.(js|jsx)$/,
        exclude: /node_modules/,
        use: ["babel-loader", "eslint-loader"]
      },
      {
        test: /(\.css)$/,
        use: ["style-loader", "css-loader"]
      }
    ]
  }
};
```

- babel configuration
  - This can be done via a `.babelrc` but you can also use package.json
  - See the config section in package.json

- eslint configuration 
  - can also be done within the package.json






